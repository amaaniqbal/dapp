{"ast":null,"code":"// Generated by IcedCoffeeScript 108.0.8\n(function () {\n  var Cipher,\n      Counter,\n      StreamCipher,\n      WordArray,\n      bulk_encrypt,\n      encrypt,\n      iced,\n      __iced_k,\n      __iced_k_noop,\n      __hasProp = {}.hasOwnProperty,\n      __extends = function (child, parent) {\n    for (var key in parent) {\n      if (__hasProp.call(parent, key)) child[key] = parent[key];\n    }\n\n    function ctor() {\n      this.constructor = child;\n    }\n\n    ctor.prototype = parent.prototype;\n    child.prototype = new ctor();\n    child.__super__ = parent.prototype;\n    return child;\n  };\n\n  iced = require('iced-runtime');\n\n  __iced_k = __iced_k_noop = function () {};\n\n  WordArray = require('./wordarray').WordArray;\n  StreamCipher = require('./algbase').StreamCipher;\n\n  Counter = function () {\n    Counter.prototype.WORD_MAX = 0xffffffff;\n\n    function Counter(_arg) {\n      var i, len, value;\n      value = _arg.value, len = _arg.len;\n      this._value = value != null ? value.clone() : (len == null ? len = 2 : void 0, new WordArray(function () {\n        var _i, _results;\n\n        _results = [];\n\n        for (i = _i = 0; 0 <= len ? _i < len : _i > len; i = 0 <= len ? ++_i : --_i) {\n          _results.push(0);\n        }\n\n        return _results;\n      }()));\n    }\n\n    Counter.prototype.inc = function () {\n      var go, i;\n      go = true;\n      i = this._value.words.length - 1;\n\n      while (go && i >= 0) {\n        if (++this._value.words[i] > Counter.WORD_MAX) {\n          this._value.words[i] = 0;\n        } else {\n          go = false;\n        }\n\n        i--;\n      }\n\n      return this;\n    };\n\n    Counter.prototype.inc_le = function () {\n      var go, i;\n      go = true;\n      i = 0;\n\n      while (go && i < this._value.words.length) {\n        if (++this._value.words[i] > Counter.WORD_MAX) {\n          this._value.words[i] = 0;\n        } else {\n          go = false;\n        }\n\n        i++;\n      }\n\n      return this;\n    };\n\n    Counter.prototype.get = function () {\n      return this._value;\n    };\n\n    Counter.prototype.copy = function () {\n      return this._value.clone();\n    };\n\n    return Counter;\n  }();\n\n  Cipher = function (_super) {\n    __extends(Cipher, _super);\n\n    function Cipher(_arg) {\n      this.block_cipher = _arg.block_cipher, this.iv = _arg.iv;\n\n      Cipher.__super__.constructor.call(this);\n\n      this.bsiw = this.block_cipher.blockSize / 4;\n\n      if (!(this.iv.sigBytes === this.block_cipher.blockSize)) {\n        throw new Error(\"IV is wrong length (\" + this.iv.sigBytes + \")\");\n      }\n\n      this.ctr = new Counter({\n        value: this.iv\n      });\n    }\n\n    Cipher.prototype.scrub = function () {\n      return this.block_cipher.scrub();\n    };\n\n    Cipher.prototype.get_pad = function () {\n      var pad;\n      pad = this.ctr.copy();\n      this.ctr.inc();\n      this.block_cipher.encryptBlock(pad.words);\n      return pad;\n    };\n\n    return Cipher;\n  }(StreamCipher);\n\n  encrypt = function (_arg) {\n    var block_cipher, cipher, input, iv, ret;\n    block_cipher = _arg.block_cipher, iv = _arg.iv, input = _arg.input;\n    cipher = new Cipher({\n      block_cipher: block_cipher,\n      iv: iv\n    });\n    ret = cipher.encrypt(input);\n    cipher.scrub();\n    return ret;\n  };\n\n  bulk_encrypt = function (_arg, cb) {\n    var block_cipher, cipher, input, iv, progress_hook, ret, what, ___iced_passed_deferral, __iced_deferrals, __iced_k;\n\n    __iced_k = __iced_k_noop;\n    ___iced_passed_deferral = iced.findDeferral(arguments);\n    block_cipher = _arg.block_cipher, iv = _arg.iv, input = _arg.input, progress_hook = _arg.progress_hook, what = _arg.what;\n    cipher = new Cipher({\n      block_cipher: block_cipher,\n      iv: iv\n    });\n    (function (_this) {\n      return function (__iced_k) {\n        __iced_deferrals = new iced.Deferrals(__iced_k, {\n          parent: ___iced_passed_deferral,\n          filename: \"/Users/max/src/keybase/triplesec/src/ctr.iced\"\n        });\n        cipher.bulk_encrypt({\n          input: input,\n          progress_hook: progress_hook,\n          what: what\n        }, __iced_deferrals.defer({\n          assign_fn: function () {\n            return function () {\n              return ret = arguments[0];\n            };\n          }(),\n          lineno: 121\n        }));\n\n        __iced_deferrals._fulfill();\n      };\n    })(this)(function (_this) {\n      return function () {\n        return cb(ret);\n      };\n    }(this));\n  };\n\n  exports.Counter = Counter;\n  exports.Cipher = Cipher;\n  exports.encrypt = encrypt;\n  exports.bulk_encrypt = bulk_encrypt;\n}).call(this);","map":{"version":3,"sources":["/home/os/Desktop/hello-world-tutorial/node_modules/triplesec/lib/ctr.js"],"names":["Cipher","Counter","StreamCipher","WordArray","bulk_encrypt","encrypt","iced","__iced_k","__iced_k_noop","__hasProp","hasOwnProperty","__extends","child","parent","key","call","ctor","constructor","prototype","__super__","require","WORD_MAX","_arg","i","len","value","_value","clone","_i","_results","push","inc","go","words","length","inc_le","get","copy","_super","block_cipher","iv","bsiw","blockSize","sigBytes","Error","ctr","scrub","get_pad","pad","encryptBlock","cipher","input","ret","cb","progress_hook","what","___iced_passed_deferral","__iced_deferrals","findDeferral","arguments","_this","Deferrals","filename","defer","assign_fn","lineno","_fulfill","exports"],"mappings":"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","sourcesContent":["// Generated by IcedCoffeeScript 108.0.8\n(function() {\n  var Cipher, Counter, StreamCipher, WordArray, bulk_encrypt, encrypt, iced, __iced_k, __iced_k_noop,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  iced = require('iced-runtime');\n  __iced_k = __iced_k_noop = function() {};\n\n  WordArray = require('./wordarray').WordArray;\n\n  StreamCipher = require('./algbase').StreamCipher;\n\n  Counter = (function() {\n    Counter.prototype.WORD_MAX = 0xffffffff;\n\n    function Counter(_arg) {\n      var i, len, value;\n      value = _arg.value, len = _arg.len;\n      this._value = value != null ? value.clone() : (len == null ? len = 2 : void 0, new WordArray((function() {\n        var _i, _results;\n        _results = [];\n        for (i = _i = 0; 0 <= len ? _i < len : _i > len; i = 0 <= len ? ++_i : --_i) {\n          _results.push(0);\n        }\n        return _results;\n      })()));\n    }\n\n    Counter.prototype.inc = function() {\n      var go, i;\n      go = true;\n      i = this._value.words.length - 1;\n      while (go && i >= 0) {\n        if ((++this._value.words[i]) > Counter.WORD_MAX) {\n          this._value.words[i] = 0;\n        } else {\n          go = false;\n        }\n        i--;\n      }\n      return this;\n    };\n\n    Counter.prototype.inc_le = function() {\n      var go, i;\n      go = true;\n      i = 0;\n      while (go && i < this._value.words.length) {\n        if ((++this._value.words[i]) > Counter.WORD_MAX) {\n          this._value.words[i] = 0;\n        } else {\n          go = false;\n        }\n        i++;\n      }\n      return this;\n    };\n\n    Counter.prototype.get = function() {\n      return this._value;\n    };\n\n    Counter.prototype.copy = function() {\n      return this._value.clone();\n    };\n\n    return Counter;\n\n  })();\n\n  Cipher = (function(_super) {\n    __extends(Cipher, _super);\n\n    function Cipher(_arg) {\n      this.block_cipher = _arg.block_cipher, this.iv = _arg.iv;\n      Cipher.__super__.constructor.call(this);\n      this.bsiw = this.block_cipher.blockSize / 4;\n      if (!(this.iv.sigBytes === this.block_cipher.blockSize)) {\n        throw new Error(\"IV is wrong length (\" + this.iv.sigBytes + \")\");\n      }\n      this.ctr = new Counter({\n        value: this.iv\n      });\n    }\n\n    Cipher.prototype.scrub = function() {\n      return this.block_cipher.scrub();\n    };\n\n    Cipher.prototype.get_pad = function() {\n      var pad;\n      pad = this.ctr.copy();\n      this.ctr.inc();\n      this.block_cipher.encryptBlock(pad.words);\n      return pad;\n    };\n\n    return Cipher;\n\n  })(StreamCipher);\n\n  encrypt = function(_arg) {\n    var block_cipher, cipher, input, iv, ret;\n    block_cipher = _arg.block_cipher, iv = _arg.iv, input = _arg.input;\n    cipher = new Cipher({\n      block_cipher: block_cipher,\n      iv: iv\n    });\n    ret = cipher.encrypt(input);\n    cipher.scrub();\n    return ret;\n  };\n\n  bulk_encrypt = function(_arg, cb) {\n    var block_cipher, cipher, input, iv, progress_hook, ret, what, ___iced_passed_deferral, __iced_deferrals, __iced_k;\n    __iced_k = __iced_k_noop;\n    ___iced_passed_deferral = iced.findDeferral(arguments);\n    block_cipher = _arg.block_cipher, iv = _arg.iv, input = _arg.input, progress_hook = _arg.progress_hook, what = _arg.what;\n    cipher = new Cipher({\n      block_cipher: block_cipher,\n      iv: iv\n    });\n    (function(_this) {\n      return (function(__iced_k) {\n        __iced_deferrals = new iced.Deferrals(__iced_k, {\n          parent: ___iced_passed_deferral,\n          filename: \"/Users/max/src/keybase/triplesec/src/ctr.iced\"\n        });\n        cipher.bulk_encrypt({\n          input: input,\n          progress_hook: progress_hook,\n          what: what\n        }, __iced_deferrals.defer({\n          assign_fn: (function() {\n            return function() {\n              return ret = arguments[0];\n            };\n          })(),\n          lineno: 121\n        }));\n        __iced_deferrals._fulfill();\n      });\n    })(this)((function(_this) {\n      return function() {\n        return cb(ret);\n      };\n    })(this));\n  };\n\n  exports.Counter = Counter;\n\n  exports.Cipher = Cipher;\n\n  exports.encrypt = encrypt;\n\n  exports.bulk_encrypt = bulk_encrypt;\n\n}).call(this);\n"]},"metadata":{},"sourceType":"script"}